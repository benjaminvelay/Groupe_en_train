<div class="container">
  <div class="row">
    <div class="col-xs-12 col-sm-4 col-sm-offset-4">
      <div class="form-login">
        <h2>S'enregistrer</h2>

        <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
          <%= f.error_notification %>

          <div class="form-inputs">
            <%= f.input :first_name,label: 'Prénom', required: true, autofocus: true %>
            <%= f.input :last_name,label: 'Nom', required: true, autofocus: true %>
            <%= f.input :email,label: 'Email', required: true, autofocus: true %>
            <%= f.input :phone,label: 'Téléphone', required: true, autofocus: true %>
            <%= f.input :password,label: 'Créer un mot de passe', required: true, hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length) %>
            <%= f.input :password_confirmation,label: 'Confirmez le mot passe', required: true %>
          </div>
          <div class="form-row">
            <label for="card-element">
              Carte Bancaire (sécurisé)
            </label>
            <div id="card-element">
              <!-- A Stripe Element will be inserted here. -->
            </div>

            <!-- Used to display form errors. -->
            <div id="card-errors" role="alert"></div>
          </div>
          <div class="form-actions">
            <%= f.button :submit, "S'enregistrer", class: "btn btn-primary"%>
          </div>
        <% end %>
      <%= render "devise/shared/links" %>
      </div>
    </div>
  </div>
</div>
<script src="https://js.stripe.com/v3/"></script>

<% content_for(:after_js) do %>
  <script>
    initSubmission("<%= ENV['publishable_key']%>");
  </script>
<% end %>
