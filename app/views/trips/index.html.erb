<div class="container">
  <p class="your-trip"><%= @station_departure %>
    <i class="fas fa-arrow-right"> </i>
    <%= @station_arrival %>
  </p>
  <div class="row">
    <div class="col-xs-12 col-md-6 col-lg-6">
      <div class="trip-card-fix">
        <div class="container-fluid">
          <div class="row" id="relative-index">
            <div class="col-xs-4"><%= @trips.first.departure_date.strftime('%a %d %b %Y') %></div>
            <div class="col-xs-2 hidden-xs">Prix individuel</div>
            <div class="col-xs-2 hidden-xs">Prix groupé</div>
            <div class="col-xs-2 visible-xs">Prix <p><i class="fas fa-user-alt"></i></p></div>
            <div class="col-xs-2 visible-xs">Prix <p><i class="fas fa-users"></i></p></div>
            <div class="col-xs-4"></div>
          </div>
        </div>

      </div>
      <% @trips.each do |trip| %>
        <div class="trip-card">
          <div class="container-fluid">
            <div class="row">
              <div class="hidden-xs">
                <div class="col-xs-4">
                  <div class="flex-heure-start-end">
                    <p> <%= trip.departure_date.strftime('%H:%M') %> </p>
                    <div class="flex-arrow-duration">
                      <p> <i class="fas fa-arrow-right"></i> </p>
                      <span>
                        <%= trip.duration %>
                      </span>
                    </div>
                    <p> <%= trip.arrival_date.strftime('%H:%M') %> </p>
                  </div>
                </div>
              </div>
              <div class="visible-xs">
                <div class="col-xs-4">
                  <div class="flex-heure-start-end-xs">
                    <p> <%= trip.departure_date.strftime('%H:%M') %> </p>
                    <div class="flex-arrow-duration">
                      <p>
                        <%= trip.arrival_date.strftime('%H:%M') %>
                      </p>
                    </div>
                    <span class="duration-xs"><%= trip.duration %> </span>
                  </div>
                </div>
              </div>
              <div class="col-xs-2"> <%= trip.individual_sncf_price_cents %></div>
              <div class="col-xs-2"><%= trip.individual_group_price_cents %>.0€</div>

              <div class="col-xs-4">
                <%= link_to trip_path(0, departure_date: trip.departure_date.strftime('%H:%M'), arrival_date: trip.arrival_date.strftime('%H:%M'), duration: trip.duration, individual_sncf_price_cents: trip.individual_sncf_price_cents, individual_group_price_cents: trip.individual_group_price_cents, station_departure: trip.departure_station, station_arrival: trip.arrival_station), class: "btn btn-success" do %>
                  <div class="hidden-xs visible-md visible-lg">
                      Continuer
                  </div>
                  <div class="hidden-md hidden-lg">
                      Choisir
                  </div>
                <% end %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>

<div id="absolute-index" class="form-search-index">
  <h2>Nouvelle recherche ?</h2>
  <%= simple_form_for :search, url: trips_path, size: 50, method: :get do |f|  %>
    <%= f.input :station_departure, label: 'Gare de départ', required: true, autofocus: true, placeholder: "Départ : " %>
    <%= f.input :station_arrival, label: "Gare d'arrivée", required: true, autofocus: true, placeholder: "Arrivée :" %>
    <%= f.input :departure_at, as: :date,label: "Date du départ", required: true, autofocus: true, html5: true, placeholder: "Date de départ" %>
    <%= f.button :submit, "Rechercher", class: "btn btn-success" %>
  <% end %>
</div>


